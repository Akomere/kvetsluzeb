{"version":3,"sources":["../../../src/controller/client/client.js"],"names":["config","db","api","get","req","res","Client","findById","params","id","err","client","query","clientID","ClientDetails","find","clientDetails","result","status","error","send","currentClient","currentClientDetails"],"mappings":";;;;;;AAAA;;AACA;;;;AAEA;;;;AACA;;;;;;kBAEe,gBAAkB;AAAA,QAAhBA,MAAgB,QAAhBA,MAAgB;AAAA,QAARC,EAAQ,QAARA,EAAQ;;AAC7B,QAAIC,MAAO,sBAAX;;AAEA;AACA;AACAA,QAAIC,GAAJ,CAAQ,gBAAR,EAA0B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACpCC,yBAAOC,QAAP,CAAgBH,IAAII,MAAJ,CAAWC,EAA3B,EAA+B,UAACC,GAAD,EAAMC,MAAN,EAAiB;;AAE5C,gBAAIC,QAAQ,EAACC,UAAUF,OAAOE,QAAlB,EAAZ;AACAC,6BAAcC,IAAd,CAAoBH,KAApB,EAA4B,UAACF,GAAD,EAAMM,aAAN,EAAwB;AAChD,oBAAIN,GAAJ,EAAS;AACL,wBAAIO,UAAS,EAAb;AACA,wBAAIC,UAAS,GAAb;AACA,wBAAIC,QAAQT,GAAZ;AACAO,4BAAOC,MAAP,GAAgBA,OAAhB;AACAD,4BAAOE,KAAP,GAAeT,GAAf;AACAL,wBAAIa,MAAJ,CAAWA,OAAX,EAAmBE,IAAnB,CAAwBH,OAAxB;AACH;AACD;AACA,oBAAIC,SAAS,GAAb;AACA,oBAAID,SAAS,EAAb;AACA,oBAAII,gBAAgBV,MAApB;AACA,oBAAIW,uBAAuBN,cAAc,CAAd,CAA3B;AACAC,uBAAOC,MAAP,GAAgBA,MAAhB;AACAD,uBAAOI,aAAP,GAAuBA,aAAvB;AACAJ,uBAAOK,oBAAP,GAA8BA,oBAA9B;;AAEAjB,oBAAIa,MAAJ,CAAWA,MAAX,EAAmBE,IAAnB,CAAwBH,MAAxB;AACH,aAnBD;AAoBH,SAvBD;AAwBH,KAzBD;;AA2BA,WAAOf,GAAP;AACH,C","file":"client.js","sourcesContent":["import { Router } from 'express';\nimport mongoose from 'mongoose';\n\nimport Client from '../../model/client/client';\nimport ClientDetails from '../../model/client/client.details';\n\nexport default ({config, db}) => {\n    let api  = Router();\n\n    // client Dashboard Route\n    // 'api/v1/client/dashboard/:id'\n    api.get('/dashboard/:id', (req, res) => {\n        Client.findById(req.params.id, (err, client) => {\n\n            let query = {clientID: client.clientID};\n            ClientDetails.find((query), (err, clientDetails) => {\n                if (err) {\n                    let result = {};\n                    let status = 400;\n                    let error = err;\n                    result.status = status;\n                    result.error = err;\n                    res.status(status).send(result);\n                }\n                // res.render() --> can come here \n                let status = 201;\n                let result = {};\n                let currentClient = client;\n                let currentClientDetails = clientDetails[0];\n                result.status = status;\n                result.currentClient = currentClient;\n                result.currentClientDetails = currentClientDetails;\n                \n                res.status(status).send(result);\n            });\n        });\n    });\n\n    return api;\n}"]}